### 目标厂商/产品（仅支持 Ralink RT3883/MT7620/MT7621/MT7628 芯片）
CONFIG_VENDOR=Ralink          # 厂商选择为 Ralink（雷凌）
CONFIG_PRODUCT=MT7621         # 产品芯片型号选择 MT7621

### 目标产品ID（主板选择，最多12个字符）
CONFIG_FIRMWARE_PRODUCT_ID="K2P-USB-512M"  # 固件产品标识，此处为 K2P 路由器（带USB功能）

### Linux 内核和工具链
CONFIG_FIRMWARE_INCLUDE_SFE=y # 启用 SFE（Fast Path）快速转发引擎，提升路由转发性能

CONFIG_LINUXDIR=linux-3.4.x   # 指定使用的 Linux 内核版本目录为 3.4.x 分支

############################################################
### Linux 内核配置
############################################################

### 编译 ROOTFS_IN_RAM 固件模式（内核+内存根文件系统）
### 固件体积更小，但占用更多内存，启动速度慢
### 也支持从 UART 控制台加载（无需刷写闪存）
#CONFIG_FIRMWARE_TYPE_ROOTFS_IN_RAM=y  # 注释关闭：不启用内存根文件系统模式

### 强制将 MT7621 CPU 主频锁定为 900MHz（覆盖 Uboot 默认设置）
#CONFIG_FIRMWARE_CPU_900MHZ=y          # 注释关闭：使用 Uboot 默认主频

### 启用 MT7621 CPU 休眠模式（空闲时降频至 220MHz）
#CONFIG_FIRMWARE_CPU_SLEEP=y           # 注释关闭：不启用 CPU 休眠降频

### WiFi AP 2.4GHz/5GHz 内核驱动版本选择
CONFIG_FIRMWARE_WIFI_DRIVER=5.0.5.1    # 指定 WiFi 驱动版本为 5.0.5.1
CONFIG_FIRMWARE_KERNEL_CONFIG="kernel-3.4.x-5.0.config"  # 对应驱动的内核配置文件

### 启用 IPv6 协议支持
CONFIG_FIRMWARE_ENABLE_IPV6=y          # 开启 IPv6 功能

### 启用 USB 功能支持（USB全功能基础）
CONFIG_FIRMWARE_ENABLE_USB=y          # 开启 USB 驱动（支持U盘、USB网卡等，USB全功能核心）

### 通过 Paragon "ufsd" 驱动启用 NTFS 文件系统支持 ~0.4MB
CONFIG_FIRMWARE_ENABLE_UFSD=y          # 开启 NTFS 读写（Paragon 闭源驱动，性能好，主流文件系统支持）

### 启用 FAT/FAT32 文件系统支持 ~0.1MB
CONFIG_FIRMWARE_ENABLE_FAT=y           # 开启 FAT/FAT32 读写（兼容U盘默认格式，主流文件系统）

### 启用 exFAT 文件系统支持（同时兼容 FAT/FAT32）~0.12MB
CONFIG_FIRMWARE_ENABLE_EXFAT=y         # 开启 exFAT 读写（支持大容量U盘，主流文件系统）

### 启用 EXT2 文件系统支持 ~0.1MB
CONFIG_FIRMWARE_ENABLE_EXT2=y          # 开启 EXT2 读写（早期Linux分区格式，主流文件系统）

### 启用 EXT3 文件系统支持 ~0.2MB
CONFIG_FIRMWARE_ENABLE_EXT3=y          # 开启 EXT3 读写（带日志的 EXT2，主流文件系统）

### 启用 EXT4 文件系统支持（同时兼容 EXT3/EXT2）~0.4MB
CONFIG_FIRMWARE_ENABLE_EXT4=y          # 开启 EXT4 读写（主流Linux分区格式，主流文件系统核心）

### 启用 XFS 文件系统支持 ~0.6MB
CONFIG_FIRMWARE_ENABLE_XFS=n           # 关闭 XFS 支持（小众高性能文件系统，节省空间）

### 启用 FUSE（用户态文件系统）支持 ~0.1MB
CONFIG_FIRMWARE_ENABLE_FUSE=y          # 开启 FUSE 框架（支持用户态文件系统，USB存储扩展）

### 启用交换文件/分区支持 ~0.05MB
CONFIG_FIRMWARE_ENABLE_SWAP=n          # 关闭交换分区支持（路由器内存小，启用意义低）

### 包含 UVC 摄像头驱动模块（USB全功能-摄像头）~0.2MB
CONFIG_FIRMWARE_INCLUDE_UVC=y          # 开启 USB 摄像头驱动（支持免驱摄像头，USB全功能）

### 包含 USB-HID 驱动模块（鼠标、键盘等）~0.2MB
CONFIG_FIRMWARE_INCLUDE_HID=n          # 关闭 USB-HID 支持（路由器一般不用键鼠，非核心USB功能）

### 包含 USB-Serial 驱动模块（如 pl2303 串口转USB）（USB全功能-串口）~0.03MB
CONFIG_FIRMWARE_INCLUDE_SERIAL=y       # 开启 USB 串口驱动（支持串口调试、4G模块等，USB全功能）

### 包含 USB-Audio 音频驱动模块（USB全功能-声卡）~0.46MB
CONFIG_FIRMWARE_INCLUDE_AUDIO=y        # 开启 USB 音频驱动（支持USB声卡、音箱，USB全功能）

### 包含 XFRM（IPsec）模块和 iptables 扩展 ~0.2MB
CONFIG_FIRMWARE_INCLUDE_XFRM=n         # 关闭 IPsec 支持（节省空间，未启用 StrongSwan）

### 包含网络 QoS 调度模块 ~0.2MB
CONFIG_FIRMWARE_INCLUDE_QOS=n          # 关闭 QoS 模块（未启用流量控制功能）

### 包含 IMQ 模块（用于流量整形，会轻微降低性能）~0.02MB
CONFIG_FIRMWARE_INCLUDE_IMQ=n          # 关闭 IMQ 支持（流量整形依赖）

### 包含 IFB 模块（用于流量整形）~0.03MB
CONFIG_FIRMWARE_INCLUDE_IFB=n          # 关闭 IFB 支持（流量整形依赖）

### 包含 IPSet 工具和内核模块 ~0.4MB
CONFIG_FIRMWARE_INCLUDE_IPSET=y        # 开启 IPSet（高效管理IP/端口集合，配合防火墙）

### 包含 NFSv3 服务端（冗余功能）~0.6MB
CONFIG_FIRMWARE_INCLUDE_NFSD=n         # 关闭 NFS 服务端（节省空间，冗余功能）

### 包含 NFSv3 客户端（冗余功能）~0.5MB
CONFIG_FIRMWARE_INCLUDE_NFSC=n         # 关闭 NFS 客户端（路由器一般不挂载 NFS 共享，冗余功能）

### 包含 CIFS（SMB）客户端 ~0.2MB
CONFIG_FIRMWARE_INCLUDE_CIFS=n         # 关闭 CIFS 客户端（路由器一般不挂载 SMB 共享）

############################################################
### 用户空间配置
############################################################

### 包含 WebUI 国际化资源（会增加固件体积）
CONFIG_FIRMWARE_INCLUDE_LANG_CN=y      # 开启 WebUI 中文语言包
#CONFIG_FIRMWARE_INCLUDE_LANG_BR=y     # 巴西葡萄牙语（关闭）
#CONFIG_FIRMWARE_INCLUDE_LANG_CZ=y     # 捷克语（关闭）
#CONFIG_FIRMWARE_INCLUDE_LANG_DA=y     # 丹麦语（关闭）
#CONFIG_FIRMWARE_INCLUDE_LANG_DE=y     # 德语（关闭）
#CONFIG_FIRMWARE_INCLUDE_LANG_ES=y     # 西班牙语（关闭）
#CONFIG_FIRMWARE_INCLUDE_LANG_FI=y     # 芬兰语（关闭）
#CONFIG_FIRMWARE_INCLUDE_LANG_FR=y     # 法语（关闭）
#CONFIG_FIRMWARE_INCLUDE_LANG_NO=y     # 挪威语（关闭）
#CONFIG_FIRMWARE_INCLUDE_LANG_PL=y     # 波兰语（关闭）
#CONFIG_FIRMWARE_INCLUDE_LANG_RU=y     # 俄语（关闭）
#CONFIG_FIRMWARE_INCLUDE_LANG_SV=y     # 瑞典语（关闭）
#CONFIG_FIRMWARE_INCLUDE_LANG_UK=y     # 乌克兰语（关闭）

### 包含 NTFS-3G FUSE 驱动（替代 Paragon "ufsd"）~0.4MB
CONFIG_FIRMWARE_INCLUDE_NTFS_3G=n      # 关闭 NTFS-3G（使用闭源的 ufsd 驱动）

### 包含 LPR 打印机守护进程（USB全功能-打印机）~0.12MB
CONFIG_FIRMWARE_INCLUDE_LPRD=y         # 开启 LPR 打印服务（支持网络打印机，USB全功能）

### 包含 USB-over-Ethernet 打印机守护进程（USB全功能-打印机）~0.05MB
CONFIG_FIRMWARE_INCLUDE_U2EC=y         # 开启 USB 打印机转网络服务（USB全功能）

### 包含 "tcpdump" 网络抓包工具 ~0.6MB
CONFIG_FIRMWARE_INCLUDE_TCPDUMP=y      # 开启 tcpdump（网络调试、抓包分析）

### 包含 "hdparm" 工具（可设置硬盘休眠超时、APM 电源管理）（USB全功能-硬盘管理）~0.1MB
CONFIG_FIRMWARE_INCLUDE_HDPARM=y       # 开启 hdparm（管理 USB 硬盘功耗，USB全功能）

### 包含 "parted" 分区工具（支持创建 GPT 分区）（USB全功能-硬盘分区）~0.3MB
CONFIG_FIRMWARE_INCLUDE_PARTED=y       # 开启 parted（USB 硬盘分区管理，USB全功能）

### 包含 SMB（及 WINS）服务端 ~1.5MB
CONFIG_FIRMWARE_INCLUDE_SMBD=y         # 开启 SMB 服务（局域网文件共享，USB存储配套）

### 使用 samba3.6 替代 samba3
CONFIG_FIRMWARE_INCLUDE_SMBD36=y       # 启用 Samba 3.6 版本（功能更全）

### 仅包含 WINS 服务端 ~0.4MB
CONFIG_FIRMWARE_INCLUDE_WINS=n         # 关闭单独 WINS 服务（SMBD 已包含）

### 为 SMB/WINS 服务包含 syslog 日志 ~0.3MB
CONFIG_FIRMWARE_INCLUDE_SMBD_SYSLOG=n  # 关闭 SMB 日志（节省空间）

### 包含 FTP 服务端 ~0.2MB
CONFIG_FIRMWARE_INCLUDE_FTPD=y         # 开启 FTP 服务（文件传输，USB存储配套）

### 包含备用 L2TP 控制客户端 RP-L2TP ~0.1MB
CONFIG_FIRMWARE_INCLUDE_RPL2TP=n       # 关闭 RP-L2TP（未使用 L2TP 拨号）

### 包含 EAP-TTLS/EAP-PEAP 认证支持（openssl ~1.2MB + wpa_supplicant ~0.04MB）
CONFIG_FIRMWARE_INCLUDE_EAP_PEAP=y     # 开启 EAP 认证（企业级 WiFi 认证）

### 包含 HTTPS 支持（openssl ~1.2MB）
CONFIG_FIRMWARE_INCLUDE_HTTPS=n        # 关闭 HTTPS（WebUI 不启用加密访问）

### 包含 sftp-server（openssl ~1.2MB + sftp-server ~0.06MB）
CONFIG_FIRMWARE_INCLUDE_SFTP=y         # 开启 SFTP 服务（加密文件传输，USB存储配套）

### 包含 dropbear SSH 服务 ~0.3MB
CONFIG_FIRMWARE_INCLUDE_DROPBEAR=n     # 关闭 dropbear（使用 OpenSSH 替代）

### 优化 dropbear 对称加密/哈希算法速度 ~0.06MB
CONFIG_FIRMWARE_INCLUDE_DROPBEAR_FAST_CODE=n  # 关闭（未启用 dropbear）

### 包含 OpenSSH 替代 dropbear（openssl ~1.2MB + openssh ~1.0MB）
CONFIG_FIRMWARE_INCLUDE_OPENSSH=y      # 开启 OpenSSH（功能更全的 SSH 服务，管理用）

### 包含 OpenVPN（VPN组网，按要求关闭）（依赖 IPv6，openssl ~1.2MB + openvpn ~0.4MB）
CONFIG_FIRMWARE_INCLUDE_OPENVPN=n      # 关闭 OpenVPN（按要求关闭VPN组网功能）

### 包含 StrongSwan（IPsec 协议，冗余功能）（XFRM ~0.2MB + strongswan ~0.7MB）
CONFIG_FIRMWARE_INCLUDE_SSWAN=n        # 关闭 StrongSwan（冗余功能，节省空间）

### 为 openssl 库添加椭圆曲线（EC）支持 ~0.1MB
CONFIG_FIRMWARE_INCLUDE_OPENSSL_EC=y   # 开启 EC 加密（SSH/SFTP 更安全的加密算法）

### 包含 "openssl" 可执行文件（用于生成证书）~0.4MB
CONFIG_FIRMWARE_INCLUDE_OPENSSL_EXE=y  # 开启 openssl 命令行工具（证书生成/管理）

### 包含 xUPNPd IPTV 媒体服务器（IPTV功能，按要求关闭）~0.3MB
CONFIG_FIRMWARE_INCLUDE_XUPNPD=n       # 关闭 xUPNPd（按要求关闭IPTV功能）

### 包含 Minidlna UPnP 媒体服务器（冗余功能）~1.6MB
CONFIG_FIRMWARE_INCLUDE_MINIDLNA=n     # 关闭 Minidlna（冗余功能，节省空间）

### 包含 Firefly iTunes 媒体服务器（冗余功能）~1.0MB
CONFIG_FIRMWARE_INCLUDE_FIREFLY=n      # 关闭 Firefly（冗余功能，未使用 iTunes 共享）

### 为 Minidlna/Firefly 启用 ffmpeg 0.11.x 替代 0.6.x ~0.1MB
CONFIG_FIRMWARE_INCLUDE_FFMPEG_NEW=n   # 关闭新版 ffmpeg（未启用 Minidlna/Firefly）

### 包含 Transmission BT 下载工具（冗余功能）（openssl ~1.2MB + transmission ~1.5MB）
CONFIG_FIRMWARE_INCLUDE_TRANSMISSION=n # 关闭 Transmission（冗余功能，节省空间）

### 包含 Transmission-Web-Control 高级 WebUI（冗余功能）~0.8MB
CONFIG_FIRMWARE_INCLUDE_TRANSMISSION_WEB_CONTROL=n # 关闭（未启用 Transmission）

### 包含 Aria2 下载管理器（按要求关闭）（openssl ~1.2MB + aria2 ~3.5MB）
CONFIG_FIRMWARE_INCLUDE_ARIA=n         # 关闭 Aria2（按要求关闭下载功能）

### 包含 Aria2 WEB 控制面板（按要求关闭）~0.7MB
CONFIG_FIRMWARE_INCLUDE_ARIA_WEB_CONTROL=n # 关闭 Aria2 WebUI（按要求关闭）

CONFIG_FIRMWARE_INCLUDE_CURL=y         # 开启 curl 工具（命令行下载/网络请求，基础工具）
CONFIG_FIRMWARE_INCLUDE_SCUTCLIENT=n   # 关闭 SCUT 校园网客户端（按要求关闭校园网认证）
CONFIG_FIRMWARE_INCLUDE_GDUT_DRCOM=n   # 关闭 GDUT DRCOM 校园网客户端（按要求关闭校园网认证）
CONFIG_FIRMWARE_INCLUDE_DOGCOM=n       # 关闭 Dogcom 校园网客户端（按要求关闭校园网认证）
CONFIG_FIRMWARE_INCLUDE_MINIEAP=n      # 关闭 MiniEAP 校园网客户端（按要求关闭校园网认证）
CONFIG_FIRMWARE_INCLUDE_NJIT_CLIENT=n  # 关闭 NJIT 校园网客户端（按要求关闭校园网认证）
CONFIG_FIRMWARE_INCLUDE_NAPT66=y       # 开启 NAPT66（IPv6 转 IPv4 地址转换，基础网络功能）
CONFIG_FIRMWARE_INCLUDE_SOFTETHERVPN_SERVER=n # 关闭 SoftEther VPN 服务端（冗余功能）
CONFIG_FIRMWARE_INCLUDE_SOFTETHERVPN_CLIENT=n # 关闭 SoftEther VPN 客户端（冗余功能）
CONFIG_FIRMWARE_INCLUDE_SOFTETHERVPN_CMD=n    # 关闭 SoftEther 命令行工具（冗余功能）
CONFIG_FIRMWARE_INCLUDE_VLMCSD=n       # 关闭 vlmcsd（按要求关闭KMS激活功能）
CONFIG_FIRMWARE_INCLUDE_TTYD=n         # 关闭 ttyd（按要求关闭Web终端功能）
CONFIG_FIRMWARE_INCLUDE_LRZSZ=y        # 开启 lrzsz（串口/SSH 上传下载文件，USB文件传输配套）
CONFIG_FIRMWARE_INCLUDE_HTOP=y         # 开启 htop（可视化系统监控工具，管理用）
CONFIG_FIRMWARE_INCLUDE_NANO=y         # 开启 nano（轻量级文本编辑器，管理用）
CONFIG_FIRMWARE_INCLUDE_IPERF3=y       # 开启 iperf3（网络带宽测试工具，调试用）
CONFIG_FIRMWARE_INCLUDE_DUMP1090=n     # 关闭 dump1090（航空雷达数据接收，冗余功能）
CONFIG_FIRMWARE_INCLUDE_RTL_SDR=n      # 关闭 rtl-sdr（软件无线电驱动，冗余功能）
CONFIG_FIRMWARE_INCLUDE_MTR=y          # 开启 mtr（网络路由追踪+丢包测试，调试用）
CONFIG_FIRMWARE_INCLUDE_SOCAT=y        # 开启 socat（多功能网络工具，端口转发等，基础工具）
CONFIG_FIRMWARE_INCLUDE_SRELAY=y       # 开启 srelay（SOCKS 代理服务器，基础网络功能）
CONFIG_FIRMWARE_INCLUDE_MENTOHUST=n    # 关闭 MentoHUST 校园网客户端（按要求关闭校园网认证）
CONFIG_FIRMWARE_INCLUDE_FRPC=n         # 关闭 frp 客户端（内网穿透，冗余功能）
CONFIG_FIRMWARE_INCLUDE_FRPS=n         # 关闭 frp 服务端（内网穿透，冗余功能）
CONFIG_FIRMWARE_INCLUDE_TUNSAFE=n      # 关闭 TunSafe（WireGuard 客户端，冗余功能）
CONFIG_FIRMWARE_INCLUDE_WIREGUARD=n    # 关闭 WireGuard VPN 支持（冗余功能）
